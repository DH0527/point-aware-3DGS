# Point-Cloud-Aware 3D Gaussian Splatting for Robust Novel View Synthesis

This repository provides an implementation of **Point-Cloud-Aware Initialization for 3D Gaussian Splatting (3DGS)**.  
The proposed method improves Gaussian initialization by incorporating **point-cloud density statistics** and
**segmentation-guided plane geometry** for scale and rotation initialization.

This codebase is built upon the original **3D Gaussian Splatting** framework and focuses on improving robustness
and rendering quality in sparsely observed or geometrically structured regions.

---

## Installation

### Environment

The code has been tested with the following configuration:

- Python 3.8  
- PyTorch ≥ 1.13  
- CUDA ≥ 11.7  

We recommend using Conda for environment management.

```bash
conda create -n pc3dgs python=3.8
conda activate pc3dgs
git clone https://github.com/DH0527/point-aware-3DGS.git --recursive

# Install PyTorch (ensure CUDA version matches your system)
conda install conda-forge::cudatoolkit-dev=11.7.0
conda install pytorch==2.0.0 torchvision==0.15.0 pytorch-cuda=11.7 -c pytorch -c nvidia

# Install requirements
pip install -r requirements.txt
pip install plyfile tqdm
pip install submodules/diff-gaussian-rasterization
pip install submodules/simple-knn
```

---

## Dataset Preparation

```text
<scene_root>/
├── images/
├── segmentation/
└── sparse/0/
```

---

## Semantic Segmentation (External Dependency)

This project uses **precomputed semantic segmentation maps** generated by **OneFormer**.
OneFormer is an external dependency and is **not included** in this repository.

Official OneFormer repository:
https://github.com/SHI-Labs/OneFormer

---

## Plane Extraction

```bash
python plane.py <path_to_points3D.bin> \
  --images_bin <path_to_images.bin> \
  --seg_dir <path_to_segmentation_folder> \
  --seg_ext _pan2sem.png \
  --out_npz <output_filename.npz>
```


### Optional Arguments

| Argument | Default | Description |
|----------|---------|-------------|
| `--tau_d` | `0.02` | Spatial distance threshold (τ<sub>d</sub>) |
| `--tau_theta` | `20.0` | Angular threshold (τ<sub>θ</sub>, degrees) |
| `--merge_tau_d` | `None` | Spatial threshold for merging coplanar planes (default: 1.1 × τ<sub>d</sub>) |
| `--merge_tau_theta` | `None` | Angular threshold for merging coplanar planes (default: 1.1 × τ<sub>θ</sub>) |
| `--out_ply` | `None` | Save raw reconstructed point cloud as a PLY file |
| `--out_planes_pointcloud_ply` | `None` | Save in-plane points colored by plane ID |
---

## Training

```bash
python train.py -s <path_to_scene>
```

---

## Evaluation

```bash
python render.py -m <path_to_model> --iteration 30000
python metrics.py -m <path_to_model>
```

---

## Citation

```bibtex
@inproceedings{jo2025pc3dgs,
  title     = {Point-Cloud-Aware 3D Gaussian Splatting for Robust Novel View Synthesis},
  author    = {Daeho Cho and Sang Min Yoon},
  year      = {2025}
}
```

---

## License

Non-commercial research use only.
